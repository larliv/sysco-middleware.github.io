I"•<link rel="stylesheet" href="//maxcdn.bootstrapcdn.com/font-awesome/4.3.0/css/font-awesome.min.css" />

<p>REST clients fail after WebLogic upgrade from 12.1.2 to 12.1.3 or 12.2.1.</p>

<p>WebLogic 12.1.2 is shipped with Jersey 1.13 and my REST clients are working fine. However, after upgrading WebLogic, they fail as follows:</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>javax.ws.rs.core.UriBuilderException: java.net.URISyntaxException: Illegal character in path at index 71: http://xxx.no/app/rest/MyRestWS/MyRestMethod/%7B"data":"JTDER28E303031815","active":false%7D
	at com.sun.jersey.api.uri.UriBuilderImpl.createURI(UriBuilderImpl.java:723)
	at com.sun.jersey.api.uri.UriBuilderImpl._build(UriBuilderImpl.java:651)
	at com.sun.jersey.api.uri.UriBuilderImpl.build(UriBuilderImpl.java:641)
	at com.sun.jersey.api.client.WebResource.&lt;init&gt;(WebResource.java:88)
	at com.sun.jersey.api.client.WebResource.path(WebResource.java:396)
	at no.company.app.restclient.wsclient.AppClient.toDataList(AppClient.java:46)
	...
</code></pre></div></div>

<p>There is a bug reported for for version 1.18.1 - <a href="https://java.net/jira/browse/JERSEY-2529">Bug in URL encoding in 1.18.1</a> but the problem is present in 1.18 as well.
<br /><br />
As it appears, downgrading to version 1.17.1 fixes the problem and is done by following the documentation to change the Jersey version used: <a href="http://docs.oracle.com/middleware/1212/wls/RESTF/version-restful-service.htm#RESTF201">How to Update the Version of Jersey JAX-RS RI in an EAR File</a> 
<br /></p>

<p>Action plan outline:</p>

<p>1) Update weblogic-application.xml (or weblogic.xml depending structure)<br />
2) Include jersey-bundle 1.17.1 in your application.<br />
3) Redeploy</p>

<p><em>weblogic-application.xml</em></p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>&lt;prefer-application-packages&gt;
    &lt;!-- jersey-bundle-*.jar --&gt;
    &lt;package-name&gt;com.sun.jersey.*&lt;/package-name&gt;
    &lt;package-name&gt;com.sun.research.ws.wadl.*&lt;/package-name&gt;
    &lt;package-name&gt;com.sun.ws.rs.ext.*&lt;/package-name&gt;
    &lt;!-- Jackson-*.jar --&gt;
    &lt;package-name&gt;org.codehaus.jackson.*&lt;/package-name&gt;
    &lt;!-- jettison-*.jar --&gt;
    &lt;package-name&gt;org.codehaus.jettison.*&lt;/package-name&gt;
    &lt;!-- jsr311*.jar --&gt;
    &lt;package-name&gt;javax.ws.rs.*&lt;/package-name&gt;
    &lt;!-- asm.jar --&gt;
    &lt;package-name&gt;org.objectweb.asm.*&lt;/package-name&gt;    
&lt;/prefer-application-packages&gt;
</code></pre></div></div>

<p>If youâ€™re building with Maven you also need to add the following to your projectâ€™s POM file:</p>

<p><em>pom.xml</em></p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code> &lt;dependency&gt;
	&lt;groupId&gt;com.sun.jersey&lt;/groupId&gt;
	&lt;artifactId&gt;jersey-bundle&lt;/artifactId&gt;
	&lt;version&gt;1.17.1&lt;/version&gt;
&lt;/dependency&gt;
&lt;!-- Optional - include if you use JSON binding --&gt;
&lt;dependency&gt;
	&lt;groupId&gt;org.codehaus.jettison&lt;/groupId&gt;
	&lt;artifactId&gt;jettison&lt;/artifactId&gt;
	&lt;version&gt;1.3.7&lt;/version&gt;
&lt;/dependency&gt;
</code></pre></div></div>

<p>Now you can live happily even after upgrading WebLogic and you donâ€™t have to rewrite your REST clients to JAX-RS 2.0 which is kinda fiddly because of public API changes.</p>
:ET