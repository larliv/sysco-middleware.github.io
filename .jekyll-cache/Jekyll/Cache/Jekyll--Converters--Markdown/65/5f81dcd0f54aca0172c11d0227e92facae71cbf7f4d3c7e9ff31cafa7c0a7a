I"/<p>In this post, we will see an overview about all the knowledge learned in the Lisbon summer camp 2017- Intelligents chatbots and Oracle JET section. There we go:</p>

<h3 id="explore-a-chatbot">Explore a ChatBot</h3>

<p>First, we needed to access to the Oracle Cloud Bot Service provided in the training.</p>

<p><img src="/images/2017-09-13-Lisbon-summer-camp-chatbots-learning-2017/Image1.jpg" alt="" /></p>

<p>We are going to explore the bot called “MasterBot”.</p>

<p><img src="/images/2017-09-13-Lisbon-summer-camp-chatbots-learning-2017/Image2.jpg" alt="" /></p>

<p>Then on the left we can see a vertical list of icons allowing us to work on the ChatBot’s intents, entities, flow, components and settings.</p>

<p>Intents, are used to keep utterances that a user can send in a message according to an specific context. In this case, the bot can find 3 intents related to Balances, Send Money and Track Spending. In the image below there are several utterances that can be used. For example, How much money do I have in all my accounts.
<img src="/images/2017-09-13-Lisbon-summer-camp-chatbots-learning-2017/Image3.jpg" alt="" /></p>

<p>Also, every intent could be related to several entities so every utterance could have multiple options to find a match by the ChatBot.</p>

<p>Entities, are used to map every word or group of words that are considered important in the utterance.
For example, in the image above there is a entity called AccountType, so the possible values related to it would be  checking, savings and credit card. In addition, is possible to add synonyms to every value so it will increase the chance to find the intent. Finally, there are several common entities that could be used like DATE, TIME, EMAIL and others.</p>

<p><img src="/images/2017-09-13-Lisbon-summer-camp-chatbots-learning-2017/Image4.jpg" alt="" /></p>

<p>The entities are assigned in the Intents section.</p>

<p><img src="/images/2017-09-13-Lisbon-summer-camp-chatbots-learning-2017/Image5.jpg" alt="" /></p>

<p>Flows, in this section we will define the behavior of the ChatBot written in YAML code.
By default, the ChatBot looks like the image below.</p>

<p><img src="/images/2017-09-13-Lisbon-summer-camp-chatbots-learning-2017/Image6.jpg" alt="" /></p>

<p>In the training we explored a flow already developed, and as we can see in the image below there is a segmentation for every piece of code like Header, Context variables, Intent States, Start Balance, Ask Balance Account Type, Print Balance and Unresolved. In this version of the ChatBot 1.0 we learned to code in this way but in the next version there will be a nice GUI to avoid writing code in this way, but it was good to know how it works.</p>

<p><img src="/images/2017-09-13-Lisbon-summer-camp-chatbots-learning-2017/Image7.jpg" alt="" /></p>

<p>So basically, it will request for your balance and print an amount only if the utterance finds a match with the intent “Balance”. Otherwise, it will print “Unable to resolve intent!”.</p>

<p>Custom components, are components used from rest services that bot developers create and deploy onto any infrastructure they want (as long as they are exposed on the internet), and then configure bots to call them.</p>

<p><img src="/images/2017-09-13-Lisbon-summer-camp-chatbots-learning-2017/Image8.jpg" alt="" /></p>

<p>In this case, the rest services were implemented using Oracle MCS</p>

<p><img src="/images/2017-09-13-Lisbon-summer-camp-chatbots-learning-2017/Image9.jpg" alt="" /></p>

<p>Settings, are used to set channels for facebook or webhook, and services to import custom components mentioned previously.</p>

<p><img src="/images/2017-09-13-Lisbon-summer-camp-chatbots-learning-2017/Image10.jpg" alt="" /></p>

<h3 id="test-a-chatbot">Test a ChatBot</h3>

<p>We can test the ChatBot clicking on the “Play” button. Also you can validate the YAML code clicking in the “Validate” button, and train the bot if is necessary according to the messages in the dialog.</p>

<p><img src="/images/2017-09-13-Lisbon-summer-camp-chatbots-learning-2017/Image11.jpg" alt="" /></p>

<p>To examine how the train works, we click in Intent tab, so after sending a message the bot will return a list of all the intents and a confidence percentage for each as the image below.</p>

<p><img src="/images/2017-09-13-Lisbon-summer-camp-chatbots-learning-2017/Image12.jpg" alt="" /></p>

<h3 id="integrate-chatbot-with-facebook-messenger">Integrate ChatBot with Facebook Messenger</h3>

<p>In this section, we published the MasterBot through Facebook Messenger, such as users can access the intelligent bot. To do this we created an intelligent Bot Facebook Messenger Channel to hold  the settings required for Facebook Messenger and Intelligent Bot to connect each other.</p>

<p>First we create a personal facebook page</p>

<p><img src="/images/2017-09-13-Lisbon-summer-camp-chatbots-learning-2017/Image13.jpg" alt="" /></p>

<p>Then we enable our account as Facebook developer account. Going to  https://developers.facebook.com</p>

<p>Create an APP ID, the app will represent the chatbot in Facebook.</p>

<p><img src="/images/2017-09-13-Lisbon-summer-camp-chatbots-learning-2017/Image14.jpg" alt="" /></p>

<p>Selecting Dashboard menu option shows the top level information about the application of which App Secret key will be needed.</p>

<p><img src="/images/2017-09-13-Lisbon-summer-camp-chatbots-learning-2017/Image16.jpg" alt="" /></p>

<p>Then enable the messenger product and webhook for the page we just created.</p>

<p><img src="/images/2017-09-13-Lisbon-summer-camp-chatbots-learning-2017/Image17.jpg" alt="" /></p>

<p>In the resulting messenger settings, we needed to configure the facebook page we created for Messenger. So in the Token Generation section we drop down to select our page and doing this will generate a Page Access Token.</p>

<p><img src="/images/2017-09-13-Lisbon-summer-camp-chatbots-learning-2017/Image18.jpg" alt="" /></p>

<p>Then we configured the Intelligent Bot Facebook Messenger channel in the settings menu.</p>

<p><img src="/images/2017-09-13-Lisbon-summer-camp-chatbots-learning-2017/Image19.jpg" alt="" /></p>

<p>In the create channel dialog we set the channel type Facebook Messenger and set the Access Token and App Secret Key provided by Facebook developer.</p>

<p><img src="/images/2017-09-13-Lisbon-summer-camp-chatbots-learning-2017/Image20.jpg" alt="" /></p>

<p>After this channel was created successfully, we copied down the Verify token and Webhook URL. We will use these on Facebook side to hook the ChatBot to our app.</p>

<p><img src="/images/2017-09-13-Lisbon-summer-camp-chatbots-learning-2017/Image21.jpg" alt="" /></p>

<p>Returning to the Facebook App, in the resulting new page subscription dialog for the Callback URL, we wrote down the Verify Token and Webhook URL. For subscription fields we set messages and messaging_postback.</p>

<p><img src="/images/2017-09-13-Lisbon-summer-camp-chatbots-learning-2017/Image22.jpg" alt="" /></p>

<p>In the Webhooks section we selected the name of the page and then click on the subscribe button.</p>

<p><img src="/images/2017-09-13-Lisbon-summer-camp-chatbots-learning-2017/Image23.jpg" alt="" /></p>

<p>Finally we tested the ChatBot.</p>

<p><img src="/images/2017-09-13-Lisbon-summer-camp-chatbots-learning-2017/Image24.jpg" alt="" /></p>

<h3 id="integrate-chatbot-with-oracle-jet">Integrate ChatBot with Oracle Jet</h3>

<p>First, we needed to prepare the environment to use Oracle Jet that is a modular kit and open source framewrok that contains javaScript libraries along with a set of Oracle contributed JavaScript libraries that make it simple to build applications that consume and interact with Oracle products and services, especially Oracle Cloud Services.</p>

<p>We followed some simple steps from this side to prepare the environment https://netbeans.org/kb/docs/webclient/ojet-settingup.html</p>

<p>Also it provides a usefull CookBook where we can just copy and paste some nice samples to learn easily from this side http://www.oracle.com/webfolder/technetwork/jet/jetCookbook.html</p>

<p><img src="/images/2017-09-13-Lisbon-summer-camp-chatbots-learning-2017/Image27.jpg" alt="" /></p>

<p>Following the steps to prepare the environment it will create a sample project where we can see the arquitecture of the source files.</p>

<p><img src="/images/2017-09-13-Lisbon-summer-camp-chatbots-learning-2017/Image26.jpg" alt="" /></p>

<p>We modified in the src folder and included some sources code provided in the session.</p>

<p><img src="/images/2017-09-13-Lisbon-summer-camp-chatbots-learning-2017/Image29.jpg" alt="" /></p>

<p>Then we modified the Incidents.js file as the source below.</p>

<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nx">define</span><span class="p">([</span><span class="dl">'</span><span class="s1">ojs/ojcore</span><span class="dl">'</span><span class="p">,</span> <span class="dl">'</span><span class="s1">knockout</span><span class="dl">'</span><span class="p">,</span> <span class="dl">'</span><span class="s1">jquery</span><span class="dl">'</span><span class="p">,</span><span class="dl">'</span><span class="s1">jet-composites/bot-client/loader</span><span class="dl">'</span><span class="p">],</span>
<span class="kd">function</span><span class="p">(</span><span class="nx">oj</span><span class="p">,</span> <span class="nx">ko</span><span class="p">,</span> <span class="nx">$</span><span class="p">)</span> <span class="p">{</span>

  <span class="kd">function</span> <span class="nx">IncidentsViewModel</span><span class="p">()</span> <span class="p">{</span>
    <span class="kd">var</span> <span class="nb">self</span> <span class="o">=</span> <span class="k">this</span><span class="p">;</span>
    <span class="nb">self</span><span class="p">.</span><span class="nx">websocketConnectionUrl</span> <span class="o">=</span> <span class="dl">'</span><span class="s1">ws://129.157.177.23:3000/chat/ws</span><span class="dl">'</span><span class="p">;</span>
    <span class="nb">self</span><span class="p">.</span><span class="nx">userId</span> <span class="o">=</span> <span class="dl">'</span><span class="s1">5c82a414-e2d0-45fd-b6a2-8ca3b9c09160</span><span class="dl">'</span><span class="p">;</span>
    <span class="nb">self</span><span class="p">.</span><span class="nx">channel</span> <span class="o">=</span> <span class="dl">'</span><span class="s1">10FA3026-5CAC-4ADE-AFD7-5678003240CD</span><span class="dl">'</span><span class="p">;</span>

    <span class="nb">self</span><span class="p">.</span><span class="nx">reset</span> <span class="o">=</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
          <span class="kd">var</span> <span class="nx">ccaNode</span> <span class="o">=</span> <span class="nx">$</span><span class="p">(</span><span class="dl">'</span><span class="s1">#bot-client</span><span class="dl">'</span><span class="p">);</span>
          <span class="nx">ccaNode</span><span class="p">[</span><span class="mi">0</span><span class="p">].</span><span class="nx">reset</span><span class="p">();</span>              
    <span class="p">}</span>

</code></pre></div></div>
<p>Finally we tested in the web browser locally.</p>

<p><img src="/images/2017-09-13-Lisbon-summer-camp-chatbots-learning-2017/Image30.jpg" alt="" /></p>

<h3 id="conclusion">Conclusion</h3>

<p>The summer camp was absolutely useful to understand how a ChatBot works and could interact with several technologies. Also the chatbot seems that will replace several mobile applications that provide particular services, so it would not be necessary to install a mobile application to request a specific service, a chatbot could do it for you.  About Oracle Jet, I would say is a great framework to build web applications easily because there is a wonderful cookbook where we can just copy and apply some changes in our own projects.</p>
:ET