I"˘	<p>In this post, we will learn how to send html content for the emails using a UMS adapter in OSB 12c. There we go:</p>

<h3 id="pre-requirements">Pre-requirements</h3>

<p>First, we need to verify that we have the UMS adapter and the email driver already working. These configurations are in the previous post <a href="http://blog.sysco.no/osb/messaging/UMS_Adapter_send_email_OSB_12C/">Using UMS Adapter to send emails with OSB 12c</a>.</p>

<h3 id="steps">Steps</h3>

<p>So first we have to edit the UMS adapter and go to the step 5, Set the option ‚ÄúMessage is Opaque (Base64Binary)‚Äù</p>

<p><img src="/images/2016-11-27-UMS_Adapter_send_html_content_email_OSB_12C/Image1.JPG" alt="" /></p>

<p>Now, we need to encode the information to Base64 and use use it in the businees service. To accomplish this task we could use a Java callout and use it to encode the information. I have created a Jar file that encode and decode as Base64 and you can download it <a href="/files/libraries/jar.rar">here</a>.</p>

<p>Extract the jar library and import into the SB Project</p>

<p><img src="/images/2016-11-27-UMS_Adapter_send_html_content_email_OSB_12C/Image2.JPG" alt="" />.</p>

<p>Create a Java Callout in the pipeline and use the Jar file called decodejarfile.jar as the image bellow.</p>

<p><img src="/images/2016-11-27-UMS_Adapter_send_html_content_email_OSB_12C/Image3.JPG" alt="" />.</p>

<p>Select the method encode from sysco.binary64.Base64Encoder as the following image.</p>

<p><img src="/images/2016-11-27-UMS_Adapter_send_html_content_email_OSB_12C/Image4.JPG" alt="" /></p>

<p>Create a sample html content in the input.</p>

<p><img src="/images/2016-11-27-UMS_Adapter_send_html_content_email_OSB_12C/Image5.JPG" alt="" /></p>

<p>And set a output parameter, let say htmlEncodedContent</p>

<p><img src="/images/2016-11-27-UMS_Adapter_send_html_content_email_OSB_12C/Image6.JPG" alt="" /></p>

<p>Replace the content body with the request of the UMS business service as the image bellow.</p>

<p><img src="/images/2016-11-27-UMS_Adapter_send_html_content_email_OSB_12C/Image7.JPG" alt="" /></p>

<p>Finally, go to routing and include a transport header. Add the following header field name ‚Äújca.ums.part.content-type‚Äù and the value ‚Äòtext/html; charset=utf-8‚Äô as the image bellow.</p>

<p><img src="/images/2016-11-27-UMS_Adapter_send_html_content_email_OSB_12C/Image8.JPG" alt="" />
This setting will be used to handle html content in the email.</p>

<p>Deploy changes and enjoy sending email with HTML content. Good luck!</p>
:ET